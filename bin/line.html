<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>text scroll animation</title>
    <link rel="stylesheet" type="text/css" href="reset.css">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body>
    <div class="cover">
        <p class="first-parallel"></p>
    </div>


    <script>
        const pTag1 = document.querySelector('.first-parallel')


        const textArr1 = 'Yummy Tasty Delicious Useful Coding Yummy Yummmmy Yummmmmmmmmy yum'.split(' ')


        let count1 = 0


        initTexts(pTag1, textArr1)


        function initTexts(element, textArray) {
            textArray.push(...textArray)
            for (let i = 0; i < textArray.length; i++) {
                element.innerText += `${textArray[i]}\u00A0\u00A0\u00A0\u00A0`
            }
        }

        function marqueeText(count, element, direction) {
            if (count > element.scrollWidth / 2) {
                element.style.transform = `translate3d(0, 0, 0)`
                count = 0
            }
            element.style.transform = `translate3d(${direction * count}px, 0, 0)`

            return count
        }

        function animate() {
            count1++

            count1 = marqueeText(count1, pTag1, -1)

            window.requestAnimationFrame(animate)
        }

        function scrollHandler() {
            count1 += 15

        }

        window.addEventListener('scroll', scrollHandler)
        animate()
    </script>
</body>

</html>